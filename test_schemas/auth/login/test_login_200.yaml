---

test_name: 输入正确的邮箱和密码，登录成功

variables: !include common.yaml

stage:
  request:
    json:
      email: context.Ok.email
      password: context.Ok.password
  response:
    status_code: 200
    save:
      user: response.user
      teams: response.teams
      org: response.org
    #验证response body的数据结构
    # structure:
    #   $ext:
    #     function: core.response:validateResponseSchema
    #     extra_kwargs: 
    #       response: response
    business:
      - equal:
        - response.user.email
        - request.json.email
      - equal:
        - response.user.status
        - 1
      



    

